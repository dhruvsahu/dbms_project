<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Meetings</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"
      integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.min.js"
      integrity="sha384-IDwe1+LCz02ROU9k972gdyvl+AESN10+x7tBKgc9I5HFtuNz0wWnPclzo6p9vxnk"
      crossorigin="anonymous"
    ></script>
    <style>
      body {
        overflow-x: hidden;
      }

      .scrollable-table {
        max-height: 400px;
        overflow-y: auto;
      }

      .center-btn {
        text-align: center;
      }

      .approval-form {
        margin-top: 20px;
        text-align: center;
      }
    </style>
  </head>

  <body style="background-color: #f1faee">
    <div
      style="
        background-color: #004e89;
        height: 70px;
        align-items: center;
        display: flex;
        justify-content: center;
      "
      class="text-light"
    >
      <h1>Meeting Administrator</h1>
    </div>

    <div style="padding-top: 50px; margin: 30px; text-align: center">
      <h1>Meetings</h1>
      <div style="overflow-x: auto" class="scrollable-table">
        <table class="table">
          <thead class="thead-dark bg-dark text-light">
            <tr>
              <th scope="col">Booking ID</th>
              <th scope="col">Club Name</th>
              <th scope="col">Academic Block</th>
              <th scope="col">Room Number</th>
              <th scope="col">Date</th>
              <th scope="col">Start Time</th>
              <th scope="col">End Time</th>
              <th scope="col">Description</th>
            </tr>
          </thead>
          <tbody>
            {% for meet in meets %}
            <tr>
              <th scope="row">{{ meet[0] }}</th>
              <td>{{ meet[1] }}</td>
              <td>{{ meet[2] }}</td>
              <td>{{ meet[3] }}</td>
              <td>{{ meet[4] }}</td>
              <td>{{ meet[5] }}</td>
              <td>{{ meet[6] }}</td>
              <td>{{ meet[7] }}</td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>

      <div class="center-btn">
        <div class="row">
          <div class="col-md-6" id="deldiv">
            <button
              id="delbtn"
              type="button"
              class="mb-5 btn btn-danger btn-lg"
            >
              Approve Meetings
            </button>
          </div>
        </div>

        <div
          class="bg-dark text-dark approval-form"
          style="
            align-items: center;
            display: flex;
            justify-content: center;
            display: none;
            background-color: #f1faee;
            height: 20%;
            border-radius: 10px;
          "
          id="delevent"
        >
          <form method="post" style="width: 45vw; min-height: 20vw">
            <div class="form-group rounded" style="text-align: center">
              <label
                style="
                  margin-top: 4%;
                  margin-bottom: 5%;
                  font-style: Trebuchet MS;
                  color: antiquewhite;
                "
                class="h2"
                for="inlineFormCustomSelect"
              >
                Select Meeting to Approve or Reject
              </label>
              <select
                name="EventId"
                class="form-control w-100 border border-dark"
              >
                <option selected>Select Meeting to Approve or Reject</option>
                {% for meet in meets %}
                <option value="{{meet[0]}}">{{meet[1]}}</option>
                {% endfor %}
              </select>
            </div>
            <div
              style="
                margin-top: 3%;
                align-items: center;
                display: flex;
                justify-content: center;
              "
            >
              <button
                style="
                  width: 20%;
                  margin-top: 2%;
                  margin-bottom: 5%;
                  align-items: center;
                  display: flex;
                  justify-content: center;
                  font-weight: bolder;
                "
                type="submit"
                class="btn btn-primary border border-dark"
                name="approve_button"
              >
                Approve
              </button>
              <button
                style="
                  width: 20%;
                  margin-top: 2%;
                  margin-bottom: 5%;
                  align-items: center;
                  display: flex;
                  justify-content: center;
                  font-weight: bolder;
                  margin-left: 5px;
                "
                type="submit"
                class="btn btn-danger border border-dark"
                name="reject_button"
              >
                Reject
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <script>
      const tarDiv = document.getElementById("delevent");
      const btn1 = document.getElementById("delbtn");
      btn1.onclick = function () {
        if (tarDiv.style.display == "none") {
          tarDiv.style.display = "flex";
        } else {
          tarDiv.style.display = "none";
        }
      };
    </script>
  </body>
</html>